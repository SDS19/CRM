<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.crm.workbench.dao.ClueDao">
    <select id="getClueById" resultType="clue">
        SELECT * FROM t_clue WHERE id = #{id}
    </select>
	<insert id="insert">
        INSERT INTO t_clue(id,fullname,appellation,owner,company,job,email,phone,website,mphone,state,source,createBy,createTime,description,contactSummary,nextContactTime,address)
        VALUES(#{id},#{fullname},#{appellation},#{owner},#{company},#{job},#{email},#{phone},#{website},#{mphone},#{state},#{source},#{createBy},#{createTime},#{description},#{contactSummary},#{nextContactTime},#{address})
    </insert>
	<select id="detail" resultType="clue">
        SELECT c.id id,
               c.fullname fullname,
               c.appellation appellation,
               u.name owner,
               c.company company,
               c.job job,
               c.email email,
               c.phone phone,
               c.website website,
               c.mphone mphone,
               c.state state,
               c.source source,
               c.createBy createBy,
               c.createTime createTime,
               c.editBy editBy,
               c.editTime editTime,
               c.description description,
               c.contactSummary contactSummary,
               c.nextContactTime nextContactTime,
               c.address address
        FROM t_clue c JOIN t_user u ON c.owner=u.id WHERE c.id = #{id}
    </select>
  	<delete id="delete">
        DELETE FROM t_clue WHERE id = #{id};
    </delete>
</mapper>

































